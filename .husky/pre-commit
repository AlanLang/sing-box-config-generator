#!/bin/bash

set -e

echo "ğŸ” Running pre-commit checks..."

echo "ğŸ“ Checking frontend code with Biome..."
if ! bun run check; then
  echo "âŒ Biome check failed. Please fix the issues before committing."
  exit 1
fi

echo "ğŸ”§ Checking TypeScript compilation..."
if ! bunx tsc --noEmit; then
  echo "âŒ TypeScript check failed. Please fix the issues before committing."
  exit 1
fi

echo "ğŸ¦€ Checking Rust code..."
if ! cargo check; then
  echo "âŒ Cargo check failed. Please fix the issues before committing."
  exit 1
fi

echo "âœ… All checks passed! Proceeding with commit..."